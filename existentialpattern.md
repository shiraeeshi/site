
Something that's been on my mind lately is the existential pattern in Haskell.

Say you have a GADT representing an AST, say of the lambda calculus. Now, you can make it parametric over the environment, representing the variables in scope. That makes sense, and is actually good sense. Now, let's switch ASTs, and build a GADT for a combinatorial calculus, and write the reduction rules as a type family. You wouldn't want to encode it directly because of that O(n^2) blowup, but K and I are necessarily reductive rewrite rules, for instance. Except, you can't actually write a simple parser for it. You want to write `parse :: String -> Expr a` (you can probably make turn the String into a constraint but it's late and that sounds like a pain), but you can't, I don't think. Why? Because you're not actually polymorphic over a, the caller can't choose the a, it's determined by the structure of the String. So instead, what you want is `parse :: String -> forall a. (Expr a -> t) -> t, where the t is independent of the a (which is why you cannot, as I found out, simply supply `id`, God I wish I could but that would probably break type theory and that would probably be bad, so I don't actually want that).

What does that mean? It means that you need to supply an interpreter in order to actually get anything out of your Expr.

Speculative: An interpreter, you say, isn't that a bit like the Free monad, or more specifically, functor combinator? Yes, why, yes it is. Only with Free, you have `type FreeInterpreter f g = forall a. Free f a -> g a`, as opposed to `type ExistentialInterpreter e t = forall a. e a -> t`, so you can rewrite (but why would you) `parse :: String -> ExistentialInterpreter Expr t -> t`. So what's the difference between Free and e? Well, `Free :: (* -> *) -> * -> *`, while `e :: * -> *`, which is why Free is a functor combinator, and Expr is (maybe, probably) a Functor. Even still, the interpreter does reduce the *kindedness* of what it interprets. But with that I think I'm reading into the tea leaves a bit much, further supported by the fact that it's midnight.  